$("#sidebar").mCustomScrollbar({theme:"minimal"}),$("#dismiss, .overlay").on("click",function(){$("#sidebar").removeClass("active"),$(".overlay").removeClass("active")}),$("#sidebarCollapse").on("click",function(){$("#sidebar").addClass("active"),$(".overlay").addClass("active"),$(".collapse.in").toggleClass("in"),$("a[aria-expanded=true]").attr("aria-expanded","false")}),mapboxgl.accessToken="pk.eyJ1IjoidGhvbWFzMzMiLCJhIjoiY2pzYWFpcXNwMDAxbzN5cGZneGxia3U3ZCJ9.sigYT2nlLnC1siycJ3im-Q";var map=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:[4.8320114,45.7578137],zoom:15}),urlAPI="http://localhost/projects/velocity/api";function formSubmitPopup(a){a.preventDefault(),$.ajax({type:"POST",url:`${urlAPI}/test.php`,data:"test",success:function(a){console.log(a)}})}$.ajax({type:"GET",url:"https://api.jcdecaux.com/vls/v1/stations?contract=Lyon&apiKey=18125dec00ffb281d822ceefb633311dc8ba4d7d",success:function(a){console.log(a),a.forEach(function(a){var e=document.createElement("div");e.id="marker";var s=new mapboxgl.Popup({offset:25}).setHTML(`  <div id="popup">\n                            <h5 class="popupTitle">${a.name}</h5> \n                            <h6 class="popupSubtitle">${a.address}</h6>\n                            <div class="row popupContent">\n                                <div class="col-6">\n                                    ${a.available_bikes} <i class="fas fa-bicycle"></i>\n                                </div>\n                                <div class="col-6 text-right">\n                                    ${a.status}\n                                </div>\n                            </div>\n\n                            <div class="text-center">\n                            <button type="button" class="btn btn-sm btn-light" data-toggle="modal" data-target="#exampleModal2">\n                                Plus d'infos\n                            </button>\n                            </div>\n                        </div>\n                    `);new mapboxgl.Marker(e).setLngLat(a.position).setPopup(s).addTo(map)})},error:function(a){console.error()}});urlAPI="http://localhost/projects/velocity/api";$("#formLogin").submit(function(a){a.preventDefault(),serializeFormLogin=$(this).serialize(),$.ajax({type:"post",url:`${urlAPI}/checkUser.php`,data:serializeFormLogin,success:function(a){if((a=JSON.parse(a))[0].username){$("#test").hide(),$(".modal-backdrop").hide(),$(".navbar").show(),$("#map").show();var e=$("#map"),s=$(".mapboxgl-canvas");e.css("width","100%"),s.css("width","100%"),map.resize()}}})});urlAPI="http://localhost/projects/velocity/api";$("#formSignup").submit(function(a){a.preventDefault(),serializeFormSignup=$(this).serialize(),$.ajax({type:"post",url:`${urlAPI}/signUser.php`,data:serializeFormSignup,success:function(a){a=JSON.parse(a),$("#test").hide(),$(".modal-backdrop").hide(),$(".navbar").show(),$("#map").show();var e=$("#map"),s=$(".mapboxgl-canvas");e.css("width","100%"),s.css("width","100%"),map.resize()}})});